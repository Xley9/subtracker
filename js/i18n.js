// ===== SubTracker â€” Internationalization =====

const TRANSLATIONS = {
    de: {
        lang: "Deutsch",
        flag: "ðŸ‡©ðŸ‡ª",
        // Header
        appName: "SubTracker",
        themeToggle: "Theme wechseln",
        settings: "Einstellungen",
        // Summary
        monthly: "Monatlich",
        yearly: "JÃ¤hrlich",
        activeSubs: "Aktive Abos",
        // Next renewal
        nextRenewal: "NÃ¤chste VerlÃ¤ngerung",
        today: "Heute!",
        tomorrow: "Morgen",
        inDays: "in {n} Tagen",
        overdue: "ÃœberfÃ¤llig",
        // Sub list
        yourSubs: "Deine Abos",
        addSub: "+ Abo hinzufÃ¼gen",
        noSubs: "Noch keine Abos vorhanden.",
        noSubsHint: "Klicke auf <strong>\"+ Abo hinzufÃ¼gen\"</strong> um zu starten.",
        // Modal
        addSubTitle: "Abo hinzufÃ¼gen",
        editSubTitle: "Abo bearbeiten",
        popularServices: "Beliebte Dienste:",
        name: "Name",
        namePlaceholder: "z.B. Netflix",
        price: "Preis",
        cycle: "Zyklus",
        currency: "WÃ¤hrung",
        nextRenewalDate: "NÃ¤chste VerlÃ¤ngerung",
        category: "Kategorie",
        notes: "Notizen",
        notesPlaceholder: "Optionale Notizen...",
        cancel: "Abbrechen",
        save: "Speichern",
        // Cycles
        weekly: "WÃ¶chentlich",
        monthly_cycle: "Monatlich",
        quarterly: "VierteljÃ¤hrlich",
        yearly_cycle: "JÃ¤hrlich",
        // Categories
        catStreaming: "Streaming",
        catMusic: "Musik",
        catSoftware: "Software",
        catGaming: "Gaming",
        catFitness: "Fitness",
        catNews: "Nachrichten",
        catCloud: "Cloud & Speicher",
        catEducation: "Bildung",
        catFood: "Essen & Lieferung",
        catOther: "Sonstiges",
        // Settings
        settingsTitle: "Einstellungen",
        data: "Daten",
        exportData: "Daten exportieren (JSON)",
        importData: "Daten importieren",
        reminders: "Erinnerungen",
        browserNotifications: "Browser-Benachrichtigungen",
        enable: "Aktivieren",
        disable: "Deaktivieren",
        remindDaysBefore: "Tage vorher erinnern:",
        day1: "1 Tag",
        days3: "3 Tage",
        days7: "7 Tage",
        language: "Sprache",
        // Onboarding
        welcomeTitle: "Willkommen bei SubTracker",
        welcomeText: "Behalte den Ãœberblick Ã¼ber all deine Abos â€” einfach, privat und kostenlos.",
        step1: "Abo hinzufÃ¼gen",
        step2: "Kosten im Blick",
        step3: "Erinnerungen erhalten",
        letsGo: "Los geht's",
        privacyNote: "Alle Daten bleiben auf deinem GerÃ¤t. Keine Registrierung nÃ¶tig.",
        // Confirm
        confirmDelete: "Abo wirklich lÃ¶schen?",
        confirmImport: "{n} Abos importieren? Aktuelle Daten werden ersetzt.",
        importSuccess: "Import erfolgreich!",
        invalidFile: "UngÃ¼ltige Datei.",
        fileError: "Fehler beim Lesen der Datei.",
        noNotifications: "Dein Browser unterstÃ¼tzt keine Benachrichtigungen.",
        notificationsBlocked: "Benachrichtigungen wurden blockiert. Bitte in den Browser-Einstellungen aktivieren.",
        reminderBody: "{name} verlÃ¤ngert sich in {days} Tag(en) fÃ¼r {price}",
        edit: "Bearbeiten",
        delete: "LÃ¶schen",
        searchPlaceholder: "Abos durchsuchen...",
    },
    en: {
        lang: "English",
        flag: "ðŸ‡¬ðŸ‡§",
        appName: "SubTracker",
        themeToggle: "Toggle theme",
        settings: "Settings",
        monthly: "Monthly",
        yearly: "Yearly",
        activeSubs: "Active Subs",
        nextRenewal: "Next Renewal",
        today: "Today!",
        tomorrow: "Tomorrow",
        inDays: "in {n} days",
        overdue: "Overdue",
        yourSubs: "Your Subscriptions",
        addSub: "+ Add Subscription",
        noSubs: "No subscriptions yet.",
        noSubsHint: "Click <strong>\"+ Add Subscription\"</strong> to get started.",
        addSubTitle: "Add Subscription",
        editSubTitle: "Edit Subscription",
        popularServices: "Popular services:",
        name: "Name",
        namePlaceholder: "e.g. Netflix",
        price: "Price",
        cycle: "Cycle",
        currency: "Currency",
        nextRenewalDate: "Next Renewal",
        category: "Category",
        notes: "Notes",
        notesPlaceholder: "Optional notes...",
        cancel: "Cancel",
        save: "Save",
        weekly: "Weekly",
        monthly_cycle: "Monthly",
        quarterly: "Quarterly",
        yearly_cycle: "Yearly",
        catStreaming: "Streaming",
        catMusic: "Music",
        catSoftware: "Software",
        catGaming: "Gaming",
        catFitness: "Fitness",
        catNews: "News",
        catCloud: "Cloud & Storage",
        catEducation: "Education",
        catFood: "Food & Delivery",
        catOther: "Other",
        settingsTitle: "Settings",
        data: "Data",
        exportData: "Export Data (JSON)",
        importData: "Import Data",
        reminders: "Reminders",
        browserNotifications: "Browser Notifications",
        enable: "Enable",
        disable: "Disable",
        remindDaysBefore: "Remind me before:",
        day1: "1 day",
        days3: "3 days",
        days7: "7 days",
        language: "Language",
        welcomeTitle: "Welcome to SubTracker",
        welcomeText: "Keep track of all your subscriptions â€” simple, private, and free.",
        step1: "Add subscription",
        step2: "Track your costs",
        step3: "Get reminders",
        letsGo: "Get Started",
        privacyNote: "All data stays on your device. No sign-up required.",
        confirmDelete: "Delete this subscription?",
        confirmImport: "Import {n} subscriptions? Current data will be replaced.",
        importSuccess: "Import successful!",
        invalidFile: "Invalid file.",
        fileError: "Error reading file.",
        noNotifications: "Your browser does not support notifications.",
        notificationsBlocked: "Notifications are blocked. Please enable them in your browser settings.",
        reminderBody: "{name} renews in {days} day(s) for {price}",
        edit: "Edit",
        delete: "Delete",
        searchPlaceholder: "Search subscriptions...",
    },
    tr: {
        lang: "TÃ¼rkÃ§e",
        flag: "ðŸ‡¹ðŸ‡·",
        appName: "SubTracker",
        themeToggle: "Tema deÄŸiÅŸtir",
        settings: "Ayarlar",
        monthly: "AylÄ±k",
        yearly: "YÄ±llÄ±k",
        activeSubs: "Aktif Abonelikler",
        nextRenewal: "Sonraki Yenileme",
        today: "BugÃ¼n!",
        tomorrow: "YarÄ±n",
        inDays: "{n} gÃ¼n iÃ§inde",
        overdue: "GecikmiÅŸ",
        yourSubs: "Aboneliklerin",
        addSub: "+ Abonelik Ekle",
        noSubs: "HenÃ¼z abonelik yok.",
        noSubsHint: "BaÅŸlamak iÃ§in <strong>\"+ Abonelik Ekle\"</strong> butonuna tÄ±kla.",
        addSubTitle: "Abonelik Ekle",
        editSubTitle: "Abonelik DÃ¼zenle",
        popularServices: "PopÃ¼ler hizmetler:",
        name: "Ad",
        namePlaceholder: "Ã¶rn. Netflix",
        price: "Fiyat",
        cycle: "DÃ¶ngÃ¼",
        currency: "Para Birimi",
        nextRenewalDate: "Sonraki Yenileme",
        category: "Kategori",
        notes: "Notlar",
        notesPlaceholder: "Ä°steÄŸe baÄŸlÄ± notlar...",
        cancel: "Ä°ptal",
        save: "Kaydet",
        weekly: "HaftalÄ±k",
        monthly_cycle: "AylÄ±k",
        quarterly: "3 AylÄ±k",
        yearly_cycle: "YÄ±llÄ±k",
        catStreaming: "YayÄ±n",
        catMusic: "MÃ¼zik",
        catSoftware: "YazÄ±lÄ±m",
        catGaming: "Oyun",
        catFitness: "Fitness",
        catNews: "Haberler",
        catCloud: "Bulut & Depolama",
        catEducation: "EÄŸitim",
        catFood: "Yemek & Teslimat",
        catOther: "DiÄŸer",
        settingsTitle: "Ayarlar",
        data: "Veriler",
        exportData: "Verileri DÄ±ÅŸa Aktar (JSON)",
        importData: "Verileri Ä°Ã§e Aktar",
        reminders: "HatÄ±rlatmalar",
        browserNotifications: "TarayÄ±cÄ± Bildirimleri",
        enable: "EtkinleÅŸtir",
        disable: "Devre DÄ±ÅŸÄ±",
        remindDaysBefore: "KaÃ§ gÃ¼n Ã¶nce hatÄ±rlat:",
        day1: "1 gÃ¼n",
        days3: "3 gÃ¼n",
        days7: "7 gÃ¼n",
        language: "Dil",
        welcomeTitle: "SubTracker'a HoÅŸ Geldin",
        welcomeText: "TÃ¼m aboneliklerini takip et â€” basit, gizli ve Ã¼cretsiz.",
        step1: "Abonelik ekle",
        step2: "Maliyetleri takip et",
        step3: "HatÄ±rlatma al",
        letsGo: "BaÅŸlayalÄ±m",
        privacyNote: "TÃ¼m veriler cihazÄ±nda kalÄ±r. KayÄ±t gerekmez.",
        confirmDelete: "Bu aboneliÄŸi silmek istediÄŸinden emin misin?",
        confirmImport: "{n} abonelik iÃ§e aktarÄ±lsÄ±n mÄ±? Mevcut veriler deÄŸiÅŸtirilecek.",
        importSuccess: "Ä°Ã§e aktarma baÅŸarÄ±lÄ±!",
        invalidFile: "GeÃ§ersiz dosya.",
        fileError: "Dosya okuma hatasÄ±.",
        noNotifications: "TarayÄ±cÄ±n bildirimleri desteklemiyor.",
        notificationsBlocked: "Bildirimler engellendi. LÃ¼tfen tarayÄ±cÄ± ayarlarÄ±ndan etkinleÅŸtir.",
        reminderBody: "{name}, {days} gÃ¼n iÃ§inde {price} karÅŸÄ±lÄ±ÄŸÄ±nda yenileniyor",
        edit: "DÃ¼zenle",
        delete: "Sil",
        searchPlaceholder: "Abonelik ara...",
    },
    es: {
        lang: "EspaÃ±ol",
        flag: "ðŸ‡ªðŸ‡¸",
        appName: "SubTracker",
        themeToggle: "Cambiar tema",
        settings: "Ajustes",
        monthly: "Mensual",
        yearly: "Anual",
        activeSubs: "Suscripciones",
        nextRenewal: "PrÃ³xima RenovaciÃ³n",
        today: "Â¡Hoy!",
        tomorrow: "MaÃ±ana",
        inDays: "en {n} dÃ­as",
        overdue: "Vencido",
        yourSubs: "Tus Suscripciones",
        addSub: "+ AÃ±adir SuscripciÃ³n",
        noSubs: "AÃºn no hay suscripciones.",
        noSubsHint: "Haz clic en <strong>\"+ AÃ±adir SuscripciÃ³n\"</strong> para empezar.",
        addSubTitle: "AÃ±adir SuscripciÃ³n",
        editSubTitle: "Editar SuscripciÃ³n",
        popularServices: "Servicios populares:",
        name: "Nombre",
        namePlaceholder: "ej. Netflix",
        price: "Precio",
        cycle: "Ciclo",
        currency: "Moneda",
        nextRenewalDate: "PrÃ³xima RenovaciÃ³n",
        category: "CategorÃ­a",
        notes: "Notas",
        notesPlaceholder: "Notas opcionales...",
        cancel: "Cancelar",
        save: "Guardar",
        weekly: "Semanal",
        monthly_cycle: "Mensual",
        quarterly: "Trimestral",
        yearly_cycle: "Anual",
        catStreaming: "Streaming",
        catMusic: "MÃºsica",
        catSoftware: "Software",
        catGaming: "Videojuegos",
        catFitness: "Fitness",
        catNews: "Noticias",
        catCloud: "Nube & Almacenamiento",
        catEducation: "EducaciÃ³n",
        catFood: "Comida & Delivery",
        catOther: "Otros",
        settingsTitle: "Ajustes",
        data: "Datos",
        exportData: "Exportar Datos (JSON)",
        importData: "Importar Datos",
        reminders: "Recordatorios",
        browserNotifications: "Notificaciones del Navegador",
        enable: "Activar",
        disable: "Desactivar",
        remindDaysBefore: "Recordar antes de:",
        day1: "1 dÃ­a",
        days3: "3 dÃ­as",
        days7: "7 dÃ­as",
        language: "Idioma",
        welcomeTitle: "Bienvenido a SubTracker",
        welcomeText: "Controla todas tus suscripciones â€” simple, privado y gratis.",
        step1: "AÃ±adir suscripciÃ³n",
        step2: "Controla tus costos",
        step3: "Recibe recordatorios",
        letsGo: "Empezar",
        privacyNote: "Todos los datos se quedan en tu dispositivo. No se requiere registro.",
        confirmDelete: "Â¿Eliminar esta suscripciÃ³n?",
        confirmImport: "Â¿Importar {n} suscripciones? Los datos actuales serÃ¡n reemplazados.",
        importSuccess: "Â¡ImportaciÃ³n exitosa!",
        invalidFile: "Archivo no vÃ¡lido.",
        fileError: "Error al leer el archivo.",
        noNotifications: "Tu navegador no soporta notificaciones.",
        notificationsBlocked: "Las notificaciones estÃ¡n bloqueadas. ActÃ­valas en los ajustes del navegador.",
        reminderBody: "{name} se renueva en {days} dÃ­a(s) por {price}",
        edit: "Editar",
        delete: "Eliminar",
        searchPlaceholder: "Buscar suscripciones...",
    },
    fr: {
        lang: "FranÃ§ais",
        flag: "ðŸ‡«ðŸ‡·",
        appName: "SubTracker",
        themeToggle: "Changer le thÃ¨me",
        settings: "ParamÃ¨tres",
        monthly: "Mensuel",
        yearly: "Annuel",
        activeSubs: "Abonnements",
        nextRenewal: "Prochain Renouvellement",
        today: "Aujourd'hui !",
        tomorrow: "Demain",
        inDays: "dans {n} jours",
        overdue: "En retard",
        yourSubs: "Vos Abonnements",
        addSub: "+ Ajouter un Abonnement",
        noSubs: "Aucun abonnement pour le moment.",
        noSubsHint: "Cliquez sur <strong>\"+ Ajouter un Abonnement\"</strong> pour commencer.",
        addSubTitle: "Ajouter un Abonnement",
        editSubTitle: "Modifier l'Abonnement",
        popularServices: "Services populaires :",
        name: "Nom",
        namePlaceholder: "ex. Netflix",
        price: "Prix",
        cycle: "Cycle",
        currency: "Devise",
        nextRenewalDate: "Prochain Renouvellement",
        category: "CatÃ©gorie",
        notes: "Notes",
        notesPlaceholder: "Notes optionnelles...",
        cancel: "Annuler",
        save: "Enregistrer",
        weekly: "Hebdomadaire",
        monthly_cycle: "Mensuel",
        quarterly: "Trimestriel",
        yearly_cycle: "Annuel",
        catStreaming: "Streaming",
        catMusic: "Musique",
        catSoftware: "Logiciels",
        catGaming: "Jeux VidÃ©o",
        catFitness: "Fitness",
        catNews: "ActualitÃ©s",
        catCloud: "Cloud & Stockage",
        catEducation: "Ã‰ducation",
        catFood: "Repas & Livraison",
        catOther: "Autres",
        settingsTitle: "ParamÃ¨tres",
        data: "DonnÃ©es",
        exportData: "Exporter les DonnÃ©es (JSON)",
        importData: "Importer les DonnÃ©es",
        reminders: "Rappels",
        browserNotifications: "Notifications du Navigateur",
        enable: "Activer",
        disable: "DÃ©sactiver",
        remindDaysBefore: "Rappeler avant :",
        day1: "1 jour",
        days3: "3 jours",
        days7: "7 jours",
        language: "Langue",
        welcomeTitle: "Bienvenue sur SubTracker",
        welcomeText: "Suivez tous vos abonnements â€” simple, privÃ© et gratuit.",
        step1: "Ajouter un abonnement",
        step2: "Suivre vos coÃ»ts",
        step3: "Recevoir des rappels",
        letsGo: "C'est parti",
        privacyNote: "Toutes les donnÃ©es restent sur votre appareil. Aucune inscription requise.",
        confirmDelete: "Supprimer cet abonnement ?",
        confirmImport: "Importer {n} abonnements ? Les donnÃ©es actuelles seront remplacÃ©es.",
        importSuccess: "Importation rÃ©ussie !",
        invalidFile: "Fichier non valide.",
        fileError: "Erreur lors de la lecture du fichier.",
        noNotifications: "Votre navigateur ne prend pas en charge les notifications.",
        notificationsBlocked: "Les notifications sont bloquÃ©es. Veuillez les activer dans les paramÃ¨tres du navigateur.",
        reminderBody: "{name} se renouvelle dans {days} jour(s) pour {price}",
        edit: "Modifier",
        delete: "Supprimer",
        searchPlaceholder: "Rechercher des abonnements...",
    },
};

// Get translation string
function t(key) {
    const lang = window._currentLang || "de";
    return (TRANSLATIONS[lang] && TRANSLATIONS[lang][key]) || TRANSLATIONS.de[key] || key;
}

// Get available languages
function getAvailableLanguages() {
    return Object.keys(TRANSLATIONS).map((code) => ({
        code,
        name: TRANSLATIONS[code].lang,
        flag: TRANSLATIONS[code].flag,
    }));
}
